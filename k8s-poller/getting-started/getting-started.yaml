mode:
  type: k8s-poller
  config:
    image_name: harbor.csis.astrazeneca.net/dataiku/hello-magnus:latest
    namespace: test
    config_path: ~/.kubeconfig

dag:
  description: Getting started
  start_at: step parameters
  steps:
    step parameters:
      type: task
      command_type: python-lambda
      command: "lambda x: {'x': int(x) + 1}"
      next: step shell
    step shell:
      type: task
      command_type: shell
      command: ls # For Linux/macOS
      next: success
      catalog:
        put:
          - "*"
    success:
      type: success
    fail:
      type: fail
